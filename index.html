<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LUXAR AUTORENT — Премиум аренда авто Бишкек</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://res.cloudinary.com" crossorigin>
<link rel="dns-prefetch" href="https://res.cloudinary.com">

<!-- Meta Pixel Code -->
<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;
  n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];
  t=b.createElement(e);t.async=!0;
  t.src=v;
  s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}
  (window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '902865135723871');
  fbq('track', 'PageView');
</script>
<noscript>
  <img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=902865135723871&ev=PageView&noscript=1"/>
</noscript>
<!-- End Meta Pixel Code -->

<style>
  body{
    font-family: Manrope, sans-serif;
    background: linear-gradient(180deg,#070707,#0b0b0b);
  }
  .container-fix{
    max-width:1100px;
    margin:0 auto;
    padding:0 20px;
  }
  .glass{
    background: rgba(255,255,255,.05);
    backdrop-filter: blur(14px);
    border:1px solid rgba(255,255,255,.1);
    border-radius:24px;
  }

  /* Кнопки синие + легкий flash */
  .btn{
    background:#2563eb;
    color:#fff;
    font-weight:900;
    border-radius:999px;
    padding:14px;
    position: relative;
    overflow: hidden;
    transform: translateZ(0);
    animation: btnPulse 2.6s ease-in-out infinite;
  }
  .btn:active{ transform: translateY(1px); }
  .btn::after{
    content:"";
    position:absolute;
    top:-35%;
    left:-120%;
    width:60%;
    height:170%;
    transform: rotate(20deg);
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.55), transparent);
    opacity: .9;
    animation: btnShine 2.8s ease-in-out infinite;
    pointer-events:none;
  }
  @keyframes btnShine{
    0%   { left:-120%; opacity:.0; }
    10%  { opacity:.6; }
    40%  { left:140%; opacity:.0; }
    100% { left:140%; opacity:.0; }
  }
  @keyframes btnPulse{
    0%,100% { box-shadow: 0 0 0 rgba(37,99,235,0); }
    50%     { box-shadow: 0 0 0 10px rgba(37,99,235,0.10); }
  }

  .btn-ghost{
    background:rgba(255,255,255,.08);
    border:1px solid rgba(255,255,255,.1);
    border-radius:999px;
    padding:8px 14px;
  }
  .car-card{
    border-radius:22px;
    border:1px solid rgba(255,255,255,.10);
    background: rgba(255,255,255,.03);
    overflow:hidden;
  }

  /* ✅ Фото в карточках: выше и меньше режется */
  .car-thumb{
    height:210px; /* было 140 */
    background:
      linear-gradient(135deg, rgba(255,255,255,.10), rgba(255,255,255,.02));
    background-size: cover;
    background-position: center 35%; /* чуть выше кадр */
    border-bottom: 1px solid rgba(255,255,255,.08);
  }
  @media (min-width: 1024px){
    .car-thumb{ height:170px; }
  }

  .photo-block{
    height:240px;
    background:
      linear-gradient(135deg, rgba(255,255,255,.10), rgba(255,255,255,.02));
    background-size: cover;
    background-position: center;
  }

  .snap-x{
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
  }
  .snap-item{ scroll-snap-align: start; }

  .modal-backdrop{
    position: fixed; inset: 0;
    background: rgba(0,0,0,.55);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    display:none;
    align-items:center;
    justify-content:center;
    z-index: 999;
    padding: 18px;
  }
  .modal-backdrop.open{ display:flex; }
  .modal-card{
    width: min(520px, 100%);
    border-radius: 24px;
    border:1px solid rgba(255,255,255,.12);
    background: rgba(18,18,18,.92);
    box-shadow: 0 30px 90px rgba(0,0,0,.55);
  }
  .modal-x{
    width: 34px; height: 34px;
    border-radius: 999px;
    border:1px solid rgba(255,255,255,.12);
    background: rgba(255,255,255,.06);
    display:flex; align-items:center; justify-content:center;
    font-weight: 900;
    color: rgba(255,255,255,.85);
  }

  /* Минималистичное появление секций */
  .reveal{
    opacity: 0;
    transform: translateY(10px);
    transition: opacity .55s ease, transform .55s ease;
    will-change: opacity, transform;
  }
  .reveal.in{
    opacity: 1;
    transform: translateY(0);
  }
  @media (prefers-reduced-motion: reduce){
    .btn, .btn::after{ animation: none !important; }
    .reveal{ opacity: 1 !important; transform: none !important; transition: none !important; }
  }

  /* ✅ Floating buttons (call + whatsapp) */
  .fab-wrap{
    position: fixed;
    right: 16px;
    bottom: 16px;
    z-index: 1200;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  .fab{
    width: 52px;
    height: 52px;
    border-radius: 999px;
    display:flex;
    align-items:center;
    justify-content:center;
    border:1px solid rgba(255,255,255,.12);
    background: rgba(255,255,255,.10);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow: 0 14px 35px rgba(0,0,0,.35);
  }
  .fab:active{ transform: translateY(1px); }
  .fab svg{ width: 22px; height: 22px; }
  .fab--call{
    background: rgba(37,99,235,.22);
    border-color: rgba(37,99,235,.35);
  }
  .fab--wa{
    background: rgba(34,197,94,.18);
    border-color: rgba(34,197,94,.35);
  }
</style>
</head>

<body class="text-white">

<header class="sticky top-0 backdrop-blur bg-black/40 border-b border-white/10 z-50">
  <div class="container-fix py-3 flex justify-between items-center">
    <div class="font-black tracking-wide">LUXAR AUTORENT</div>
    <a href="#lead1" class="btn-ghost text-sm">Оставить заявку</a>
  </div>
</header>

<section class="container-fix pt-14 pb-14 reveal">
  <div class="grid lg:grid-cols-2 gap-12 items-start">
    <div>
      <h1 class="text-4xl font-black leading-tight tracking-tight">
        Аренда авто премиум-класса
      </h1>

      <div class="flex flex-wrap gap-2 mt-6">
        <span class="btn-ghost text-xs">Премиальные авто</span>
        <span class="btn-ghost text-xs">Высокий сервис</span>
        <span class="btn-ghost text-xs">Договор</span>
      </div>
    </div>

    <div id="lead1" class="glass p-6">
      <div class="flex justify-between items-start">
        <div>
          <div class="text-xl font-black">Получить быстрый обратный звонок</div>
          <div class="text-sm text-white/60 mt-1">Перезвоним и уточним детали аренды</div>
        </div>
        <div class="text-xs text-white/60 text-right">
          Ответим<br><span class="font-semibold text-white">10–20 мин</span>
        </div>
      </div>

      <form id="leadForm1" class="mt-6 space-y-4" autocomplete="off">
        <input name="name" type="text" placeholder="Ваше имя" required
          class="w-full bg-white/10 border border-white/10 rounded-2xl px-4 py-3 outline-none focus:border-white/30" />
        <input id="phone1" name="phone" type="tel" placeholder="+996 ___ ___ ___" required inputmode="tel"
          class="w-full bg-white/10 border border-white/10 rounded-2xl px-4 py-3 outline-none focus:border-white/30" />
        <button class="btn w-full" type="submit">Заказать звонок</button>
        <div id="status1" class="text-xs text-white/60"></div>
      </form>
    </div>
  </div>
</section>

<section class="container-fix pb-14 reveal">
  <div class="glass overflow-hidden">
    <div
      class="photo-block opacity-80"
      style="background-image:url('https://res.cloudinary.com/dc2n4hmij/image/upload/f_auto,q_auto,w_1600/v1772051898/freepik__-__10075_gcfi7k.png');">
    </div>
  </div>
</section>

<section class="container-fix pb-16 reveal">
  <div>
    <div class="text-xs text-white/60 font-semibold tracking-wide">О НАС</div>
    <h2 class="mt-2 text-2xl font-black">LUXAR AUTORENT</h2>
    <p class="mt-4 text-white/70 leading-relaxed max-w-2xl">
      В автопарке 13 премиальных автомобилей — под любой формат:
      от деловых встреч до комфортного отдыха.
      У нас премиальные авто по одним из лучших цен в городе.
      <span class="text-white font-semibold">Ваш комфорт – наш стандарт.</span>
    </p>
  </div>

  <div class="mt-12 grid grid-cols-2 lg:grid-cols-4 gap-8">
    <div>
      <div class="text-2xl font-black text-white/90">01</div>
      <div class="mt-2 font-semibold">13 авто</div>
      <div class="text-white/50 text-sm mt-1">Премиальный автопарк</div>
    </div>
    <div>
      <div class="text-2xl font-black text-white/90">02</div>
      <div class="mt-2 font-semibold">300+ клиентов</div>
      <div class="text-white/50 text-sm mt-1">Высокий уровень доверия</div>
    </div>
    <div>
      <div class="text-2xl font-black text-white/90">03</div>
      <div class="mt-2 font-semibold">КАСКО + ОСАГО</div>
      <div class="text-white/50 text-sm mt-1">Полная защита</div>
    </div>
    <div>
      <div class="text-2xl font-black text-white/90">04</div>
      <div class="mt-2 font-semibold">Тонировка</div>
      <div class="text-white/50 text-sm mt-1">С разрешением</div>
    </div>
  </div>
</section>

<section class="container-fix pb-16 reveal">
  <div id="lead2" class="glass p-6">
    <div class="flex justify-between items-start">
      <div>
        <div class="text-xs text-white/60 font-semibold tracking-wide">ЗАЯВКА</div>
        <div class="mt-2 text-2xl font-black">Подобрать автомобиль</div>
        <div class="mt-2 text-sm text-white/60">
          Выберите машину — мы перезвоним и подтвердим наличие.
        </div>
      </div>
      <div class="text-xs text-white/60 text-right">
        Ответим<br><span class="font-semibold text-white">10–20 мин</span>
      </div>
    </div>

    <form id="leadForm2" class="mt-6 space-y-4" autocomplete="off">
      <select name="car" required
        class="w-full bg-white/10 border border-white/10 rounded-2xl px-4 py-3 outline-none focus:border-white/30">
        <option value="" selected disabled>Выберите автомобиль</option>
        <option>BMW M5 — 350$</option>
        <option>Land Cruiser 200 — 300$</option>
        <option>Mercedes Benz W223 — 300$</option>
        <option>BMW X7 — 250$</option>
        <option>BMW X5 G05 — 220$</option>
        <option>Lexus GX — 220$</option>
        <option>Camry 80 — 180$</option>
        <option>BMW 7 series — 180$</option>
        <option>BMW G30 — 160$</option>
        <option>Mercedes E300 — 160$</option>
        <option>Lexus ES — 160$</option>
        <option>Changan Uni-Z — 100$</option>
        <option>Camry 70 — 100$</option>
      </select>

      <input name="name" type="text" placeholder="Ваше имя" required
        class="w-full bg-white/10 border border-white/10 rounded-2xl px-4 py-3 outline-none focus:border-white/30" />

      <input id="phone2" name="phone" type="tel" placeholder="+996 ___ ___ ___" required inputmode="tel"
        class="w-full bg-white/10 border border-white/10 rounded-2xl px-4 py-3 outline-none focus:border-white/30" />

      <button class="btn w-full" type="submit">Отправить заявку</button>
      <div id="status2" class="text-xs text-white/60"></div>
    </form>
  </div>
</section>

<section id="fleet" class="container-fix pb-20 reveal">
  <div class="glass p-6">
    <div class="text-xs text-white/60 font-semibold tracking-wide">АВТОПАРК</div>

    <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">

      <article class="car-card">
        <div class="car-thumb" style="background-image:url('https://res.cloudinary.com/dc2n4hmij/image_upload/f_auto,q_auto,w_1100/v1772052021/IMG_8032_2_q9mcuc.jpg');"></div>
        <div class="p-5">
          <div class="flex justify-between">
            <div class="font-extrabold">BMW M5</div>
            <div class="font-semibold text-white/80">350$</div>
          </div>
          <div class="mt-3 text-sm text-white/55">Максимальная динамика и статус.</div>
          <button class="mt-4 inline-block btn-ghost text-xs js-open-modal" data-car="BMW M5 (350$)" type="button">
            Забронировать
          </button>
        </div>
      </article>

      <article class="car-card">
        <div class="car-thumb" style="background-image:url('https://res.cloudinary.com/dc2n4hmij/image/upload/f_auto,q_auto,w_1100/v1772052135/freepik__-__6913_r2s2am.png');"></div>
        <div class="p-5">
          <div class="flex justify-between">
            <div class="font-extrabold">Land Cruiser 200</div>
            <div class="font-semibold text-white/80">300$</div>
          </div>
          <div class="mt-3 text-sm text-white/55">Премиальный SUV для любых дорог.</div>
          <button class="mt-4 inline-block btn-ghost text-xs js-open-modal" data-car="Land Cruiser 200 (300$)" type="button">
            Забронировать
          </button>
        </div>
      </article>

      <article class="car-card">
        <div class="car-thumb" style="background-image:url('https://res.cloudinary.com/dc2n4hmij/image/upload/f_auto,q_auto,w_1100/v1772052286/photo_5425033390299221145_y_ligtxq.jpg');"></div>
        <div class="p-5">
          <div class="flex justify-between">
            <div class="font-extrabold">BMW X7</div>
            <div class="font-semibold text-white/80">250$</div>
          </div>
          <div class="mt-3 text-sm text-white/55">Комфорт и пространство для поездок.</div>
          <button class="mt-4 inline-block btn-ghost text-xs js-open-modal" data-car="BMW X7 (250$)" type="button">
            Забронировать
          </button>
        </div>
      </article>

      <article class="car-card">
        <div class="car-thumb" style="background-image:url('https://res.cloudinary.com/dc2n4hmij/image/upload/f_auto,q_auto,w_1100/v1772052219/freepik__-__6911_gow3so.png');"></div>
        <div class="p-5">
          <div class="flex justify-between">
            <div class="font-extrabold">BMW X5 G05</div>
            <div class="font-semibold text-white/80">220$</div>
          </div>
          <div class="mt-3 text-sm text-white/55">Универсальный премиум SUV.</div>
          <button class="mt-4 inline-block btn-ghost text-xs js-open-modal" data-car="BMW X5 G05 (220$)" type="button">
            Забронировать
          </button>
        </div>
      </article>

    </div>

    <div class="mt-10 text-center">
      <button class="btn px-10 inline-block js-open-modal" data-car="Полный автопарк" type="button">
        Увидеть весь автопарк
      </button>
    </div>
  </div>
</section>

<section class="container-fix pb-16 reveal">
  <div class="flex items-end justify-between gap-4">
    <div>
      <div class="text-xs text-white/60 font-semibold tracking-wide">ОТЗЫВЫ</div>
      <div class="mt-2 text-2xl font-black">Клиенты о сервисе</div>
    </div>
    <div class="hidden sm:block text-sm text-white/50">Листайте →</div>
  </div>

  <div class="mt-6">
    <div class="flex gap-4 overflow-x-auto snap-x pb-2 sm:grid sm:grid-cols-2 lg:grid-cols-4 sm:gap-4 sm:overflow-visible">
      <article class="snap-item min-w-[82%] sm:min-w-0 glass p-5">
        <div class="text-sm font-extrabold">Нурлан</div>
        <div class="mt-2 text-sm text-white/70 leading-relaxed">
          “Всё быстро: машина чистая, договор понятный. Сервис на уровне.”
        </div>
        <div class="mt-4 text-[12px] text-white/70">★★★★★</div>
      </article>

      <article class="snap-item min-w-[82%] sm:min-w-0 glass p-5">
        <div class="text-sm font-extrabold">Айбек</div>
        <div class="mt-2 text-sm text-white/70 leading-relaxed">
          “Подобрали авто под встречу. Привезли вовремя, всё по делу.”
        </div>
        <div class="mt-4 text-[12px] text-white/70">★★★★★</div>
      </article>

      <article class="snap-item min-w-[82%] sm:min-w-0 glass p-5">
        <div class="text-sm font-extrabold">Тимур</div>
        <div class="mt-2 text-sm text-white/70 leading-relaxed">
          “Акратный подход. Всё прозрачно, без сюрпризов. Рекомендую.”
        </div>
        <div class="mt-4 text-[12px] text-white/70">★★★★★</div>
      </article>

      <article class="snap-item min-w-[82%] sm:min-w-0 glass p-5">
        <div class="text-sm font-extrabold">Эмир</div>
        <div class="mt-2 text-sm text-white/70 leading-relaxed">
          “Брал X5. Машина в идеале, реагируют быстро. Спасибо!”
        </div>
        <div class="mt-4 text-[12px] text-white/70">★★★★★</div>
      </article>
    </div>
  </div>
</section>

<section class="container-fix pb-16 reveal">
  <div class="glass overflow-hidden">
    <div
      class="photo-block opacity-80"
      style="background-image:url('https://res.cloudinary.com/dc2n4hmij/image/upload/f_auto,q_auto,w_1600/v1772054522/freepik__-7-__10074_coyah5.png');">
    </div>
  </div>
</section>

<section class="container-fix pb-20 reveal">
  <div class="text-xs text-white/60 font-semibold tracking-wide">FAQ</div>
  <div class="mt-2 text-2xl font-black">Частые вопросы</div>

  <div class="mt-6 space-y-3">
    <details class="glass p-5">
      <summary class="cursor-pointer font-semibold text-white/90">Какие документы нужны?</summary>
      <div class="mt-3 text-sm text-white/65 leading-relaxed">
        Обычно достаточно паспорта и водительского удостоверения. Условия уточним по телефону.
      </div>
    </details>

    <details class="glass p-5">
      <summary class="cursor-pointer font-semibold text-white/90">Есть ли депозит?</summary>
      <div class="mt-3 text-sm text-white/65 leading-relaxed">
        Да, депозит зависит от выбранного автомобиля. Сумму озвучим до подтверждения брони.
      </div>
    </details>

    <details class="glass p-5">
      <summary class="cursor-pointer font-semibold text-white/90">Можно ли подачу/доставку по городу?</summary>
      <div class="mt-3 text-sm text-white/65 leading-relaxed">
        Да, возможна подача по Бишкеку по договорённости — уточним адрес и время.
      </div>
    </details>

    <details class="glass p-5">
      <summary class="cursor-pointer font-semibold text-white/90">Страховка включена?</summary>
      <div class="mt-3 text-sm text-white/65 leading-relaxed">
        Машины застрахованы (КАСКО и ОСАГО). Детали покрытия уточним под выбранную модель.
      </div>
    </details>
  </div>
</section>

<footer class="border-t border-white/10 reveal">
  <div class="container-fix py-10 text-sm text-white/55">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
      <div>© 2026 LUXAR AUTORENT • Бишкек</div>
      <div class="flex gap-3">
        <a href="#lead1" class="underline underline-offset-4">Заявка</a>
        <a href="#fleet" class="underline underline-offset-4">Автопарк</a>
      </div>
    </div>
    <div class="mt-4 text-xs text-white/40">
      Информация на сайте носит справочный характер. Условия аренды уточняются при подтверждении заявки.
    </div>
  </div>
</footer>

<div id="modalBackdrop" class="modal-backdrop" aria-hidden="true">
  <div class="modal-card p-6">
    <div class="flex items-start justify-between gap-4">
      <div>
        <div class="text-xs text-white/60 font-semibold tracking-wide">ЗАЯВКА</div>
        <div class="mt-2 text-2xl font-black">Получить звонок</div>
        <div id="modalCarText" class="mt-2 text-sm text-white/60"></div>
      </div>
      <button id="modalClose" class="modal-x" type="button" aria-label="Закрыть">✕</button>
    </div>

    <form id="modalForm" class="mt-6 space-y-4" autocomplete="off">
      <input id="modalCar" name="car" type="hidden" value="">
      <input name="name" type="text" placeholder="Ваше имя" required
        class="w-full bg-white/10 border border-white/10 rounded-2xl px-4 py-3 outline-none focus:border-white/30" />
      <input id="modalPhone" name="phone" type="tel" placeholder="+996 ___ ___ ___" required inputmode="tel"
        class="w-full bg-white/10 border border-white/10 rounded-2xl px-4 py-3 outline-none focus:border-white/30" />
      <button class="btn w-full" type="submit">Получить звонок</button>
      <div id="modalStatus" class="text-xs text-white/60"></div>
    </form>
  </div>
</div>

<!-- ✅ Fixed action buttons: Call + WhatsApp -->
<div class="fab-wrap" aria-label="Контакты">
  <a class="fab fab--call" href="tel:0999211000" aria-label="Позвонить 0999211000" title="Позвонить">
    <!-- phone icon -->
    <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path d="M6.62 10.79a15.05 15.05 0 0 0 6.59 6.59l2.2-2.2a1 1 0 0 1 1.02-.24c1.12.37 2.33.57 3.57.57a1 1 0 0 1 1 1V20a1 1 0 0 1-1 1C10.85 21 3 13.15 3 3a1 1 0 0 1 1-1h3.5a1 1 0 0 1 1 1c0 1.24.2 2.45.57 3.57a1 1 0 0 1-.24 1.02l-2.21 2.2Z" stroke="white" stroke-opacity=".9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </a>

  <a class="fab fab--wa"
     href="https://wa.me/996999211000?text=%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5%20%D1%8F%20%D1%81%20%D1%81%D0%B0%D0й%D1%82%D0%B0%2C%20%D1%85%D0%BE%D1%82%D0%B5%D0%BB%20%D1%83%D0%B7%D0%BD%D0%B0%D1%82%D1%8C%20%D0%BD%D0%B0%D1%81%D1%87%D0%B5%D1%82%20%D0%B0%D0%B2%D1%82%D0%BE"
     target="_blank" rel="noopener"
     aria-label="Написать в WhatsApp" title="WhatsApp">
    <!-- whatsapp icon -->
    <svg viewBox="0 0 32 32" fill="none" aria-hidden="true">
      <path d="M19.11 17.53c-.23-.12-1.33-.66-1.54-.74-.2-.08-.35-.12-.5.12-.15.23-.58.74-.71.89-.13.15-.26.17-.49.06-.23-.12-.97-.36-1.85-1.15-.68-.61-1.14-1.36-1.27-1.59-.13-.23-.01-.36.1-.48.1-.1.23-.26.35-.39.12-.13.15-.23.23-.39.08-.15.04-.29-.02-.41-.06-.12-.5-1.2-.69-1.65-.18-.43-.37-.37-.5-.37h-.43c-.15 0-.39.06-.59.29-.2.23-.78.76-.78 1.85s.8 2.14.91 2.29c.12.15 1.58 2.42 3.82 3.39.53.23.95.37 1.27.47.54.17 1.03.15 1.42.09.43-.06 1.33-.54 1.52-1.06.18-.52.18-.97.13-1.06-.05-.09-.2-.15-.43-.27Z" fill="white" fill-opacity=".9"/>
      <path d="M26.67 15.76c0 5.99-4.89 10.85-10.92 10.85-1.92 0-3.73-.49-5.3-1.36L5.33 26.67l1.46-4.85a10.75 10.75 0 0 1-1.38-5.23C5.41 10.6 10.3 5.74 16.33 5.74c6.03 0 10.34 4.03 10.34 10.02Z" stroke="white" stroke-opacity=".9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </a>
</div>

<script>
  const SUBMIT_ENDPOINT = "https://script.google.com/macros/s/AKfycbyGoypnN9WTJIwyDydDBpjOTnLU4E9RPefAdYhMT4smSnHj9j-QObKJ7aULtOTHPqT2/exec";

  function attachPhoneMask(input){
    input.addEventListener('input', () => {
      let v = input.value.replace(/[^\d+]/g, '');
      if (!v.startsWith('+')) v = '+996' + v.replace(/^996/, '');
      v = '+' + v.replace(/\+/g,'');
      input.value = v;
    });
  }
  function isPhoneValid(value){
    const digits = value.replace(/\D/g,'');
    return digits.length >= 12;
  }

  attachPhoneMask(document.getElementById('phone1'));
  attachPhoneMask(document.getElementById('phone2'));
  attachPhoneMask(document.getElementById('modalPhone'));

  // отправка (как у тебя): no-cors + text/plain
  async function sendLead(payload){
    payload.source = payload.source || "Сайт";
    payload.car = payload.car || "";
    payload.name = payload.name || "";
    payload.phone = payload.phone || "";

    if (!SUBMIT_ENDPOINT) return true;

    try{
      await fetch(SUBMIT_ENDPOINT, {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "text/plain;charset=utf-8" },
        body: JSON.stringify(payload)
      });
      return true;
    }catch(err){
      return false;
    }
  }

  // Form 1 — быстрый UI
  document.getElementById('leadForm1').addEventListener('submit', async (e) => {
    e.preventDefault();
    const form = e.target;
    const status = document.getElementById('status1');
    const btn = form.querySelector('button[type="submit"]');

    const phone = document.getElementById('phone1').value;
    if (!isPhoneValid(phone)) { status.textContent = "Проверьте номер телефона"; return; }

    btn.disabled = true;
    const oldText = btn.textContent;
    btn.textContent = "Отправляем…";
    status.textContent = "";

    const fd = new FormData(form);
    const payload = Object.fromEntries(fd.entries());
    payload.source = "Лидформа 1";

    const ok = await sendLead(payload);

    status.textContent = ok ? "Заявка отправлена ✓" : "Ошибка отправки. Попробуйте ещё раз.";
    if (ok) form.reset();

    btn.disabled = false;
    btn.textContent = oldText;
  });

  // Form 2 — быстрый UI
  document.getElementById('leadForm2').addEventListener('submit', async (e) => {
    e.preventDefault();
    const form = e.target;
    const status = document.getElementById('status2');
    const btn = form.querySelector('button[type="submit"]');

    const phone = document.getElementById('phone2').value;
    if (!isPhoneValid(phone)) { status.textContent = "Проверьте номер телефона"; return; }

    btn.disabled = true;
    const oldText = btn.textContent;
    btn.textContent = "Отправляем…";
    status.textContent = "";

    const fd = new FormData(form);
    const payload = Object.fromEntries(fd.entries());
    payload.source = "Лидформа 2";

    const ok = await sendLead(payload);

    status.textContent = ok ? "Заявка отправлена ✓" : "Ошибка отправки. Попробуйте ещё раз.";
    if (ok) form.reset();

    btn.disabled = false;
    btn.textContent = oldText;
  });

  // Modal open/close
  const modalBackdrop = document.getElementById('modalBackdrop');
  const modalClose = document.getElementById('modalClose');
  const modalCar = document.getElementById('modalCar');
  const modalCarText = document.getElementById('modalCarText');
  const modalStatus = document.getElementById('modalStatus');

  function openModal(carLabel){
    modalStatus.textContent = "";
    modalCar.value = carLabel || "";
    modalCarText.textContent = carLabel ? ("Вы выбрали: " + carLabel) : "Оставьте контакты — мы перезвоним.";
    modalBackdrop.classList.add('open');
    modalBackdrop.setAttribute('aria-hidden','false');
    setTimeout(() => document.getElementById('modalPhone').focus(), 50);
  }
  function closeModal(){
    modalBackdrop.classList.remove('open');
    modalBackdrop.setAttribute('aria-hidden','true');
  }

  modalClose.addEventListener('click', closeModal);
  modalBackdrop.addEventListener('click', (e) => { if (e.target === modalBackdrop) closeModal(); });
  document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeModal(); });

  document.querySelectorAll('.js-open-modal').forEach(btn => {
    btn.addEventListener('click', () => openModal(btn.dataset.car || "Автопарк"));
  });

  // Modal submit — быстрый UI
  document.getElementById('modalForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const form = e.target;
    const btn = form.querySelector('button[type="submit"]');

    const phone = document.getElementById('modalPhone').value;
    if (!isPhoneValid(phone)) { modalStatus.textContent = "Проверьте номер телефона"; return; }

    btn.disabled = true;
    const oldText = btn.textContent;
    btn.textContent = "Отправляем…";
    modalStatus.textContent = "";

    const fd = new FormData(form);
    const payload = Object.fromEntries(fd.entries());
    payload.source = "Автопарк";

    const ok = await sendLead(payload);

    modalStatus.textContent = ok ? "Заявка отправлена ✓" : "Ошибка отправки. Попробуйте ещё раз.";
    if (ok) {
      form.reset();
      setTimeout(closeModal, 400);
    }

    btn.disabled = false;
    btn.textContent = oldText;
  });

  // Reveal
  (function(){
    const els = document.querySelectorAll('.reveal');
    if (!('IntersectionObserver' in window) || els.length === 0){
      els.forEach(el => el.classList.add('in'));
      return;
    }
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting){
          e.target.classList.add('in');
          io.unobserve(e.target);
        }
      });
    }, { threshold: 0.12 });
    els.forEach(el => io.observe(el));
  })();
</script>

</body>
</html>
